(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7b3933e4"],{"0aa3":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"goods-item"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.showImage,expression:"showImage"}],on:{load:t.imgLoadFinish}}),a("div",{staticClass:"goods-info"},[a("p",{staticClass:"title"},[t._v(t._s(t.goodsitem.title))]),a("span",{staticClass:"price"},[t._v(t._s(t.goodsitem.price))]),a("span",{staticClass:"collect"},[t._v(t._s(t.goodsitem.cfav))])])])},r=[],i={props:{goodsitem:{type:Object,default:function(){return{}}}},methods:{imgLoadFinish:function(){this.$bus.$emit("imgLoadFinish")}},computed:{showImage:function(){return this.goodsitem.img||this.goodsitem.image||this.goodsitem.show.img}}},c=i,o=(a("6aef"),a("2877")),s=Object(o["a"])(c,n,r,!1,null,"1f1d3a3f",null);e["a"]=s.exports},"159b":function(t,e,a){var n=a("da84"),r=a("fdbc"),i=a("17c2"),c=a("9112");for(var o in r){var s=n[o],u=s&&s.prototype;if(u&&u.forEach!==i)try{c(u,"forEach",i)}catch(l){u.forEach=i}}},"17c2":function(t,e,a){"use strict";var n=a("b727").forEach,r=a("a640"),i=a("ae40"),c=r("forEach"),o=i("forEach");t.exports=c&&o?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},2234:function(t,e,a){"use strict";var n=a("837b"),r=a.n(n);r.a},"337f":function(t,e,a){},3751:function(t,e,a){"use strict";var n=a("86b6"),r=a.n(n);r.a},"3aa2":function(t,e,a){"use strict";var n=a("5b0d"),r=a.n(n);r.a},4160:function(t,e,a){"use strict";var n=a("23e7"),r=a("17c2");n({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},"4de4":function(t,e,a){"use strict";var n=a("23e7"),r=a("b727").filter,i=a("1dde"),c=a("ae40"),o=i("filter"),s=c("filter");n({target:"Array",proto:!0,forced:!o||!s},{filter:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},"5a32":function(t,e,a){"use strict";var n=a("337f"),r=a.n(n);r.a},"5b0d":function(t,e,a){},"66ea":function(t,e,a){},"6aef":function(t,e,a){"use strict";var n=a("cae3"),r=a.n(n);r.a},"837b":function(t,e,a){},"86b6":function(t,e,a){},96194:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tabcontrol"},t._l(t.tabtext,(function(e,n){return a("div",{staticClass:"tabcontrol-item",class:{active:n===t.clickindex},on:{click:function(e){return t.click(n)}}},[a("span",[t._v(t._s(t.tabtext[n]))])])})),0)},r=[],i={data:function(){return{clickindex:0}},methods:{click:function(t){this.clickindex=t,this.$emit("tabControlIndex",t)}},props:{tabtext:{type:Array,default:function(){return[]}}}},c=i,o=(a("3751"),a("2877")),s=Object(o["a"])(c,n,r,!1,null,"d6f40f02",null);e["a"]=s.exports},"99af":function(t,e,a){"use strict";var n=a("23e7"),r=a("d039"),i=a("e8b5"),c=a("861d"),o=a("7b0b"),s=a("50c4"),u=a("8418"),l=a("65f0"),f=a("1dde"),d=a("b622"),g=a("2d00"),h=d("isConcatSpreadable"),b=9007199254740991,p="Maximum allowed index exceeded",m=g>=51||!r((function(){var t=[];return t[h]=!1,t.concat()[0]!==t})),v=f("concat"),y=function(t){if(!c(t))return!1;var e=t[h];return void 0!==e?!!e:i(t)},_=!m||!v;n({target:"Array",proto:!0,forced:_},{concat:function(t){var e,a,n,r,i,c=o(this),f=l(c,0),d=0;for(e=-1,n=arguments.length;e<n;e++)if(i=-1===e?c:arguments[e],y(i)){if(r=s(i.length),d+r>b)throw TypeError(p);for(a=0;a<r;a++,d++)a in i&&u(f,d,i[a])}else{if(d>=b)throw TypeError(p);u(f,d++,i)}return f.length=d,f}})},aea7:function(t,e,a){},b64b:function(t,e,a){var n=a("23e7"),r=a("7b0b"),i=a("df75"),c=a("d039"),o=c((function(){i(1)}));n({target:"Object",stat:!0,forced:o},{keys:function(t){return i(r(t))}})},bb51:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"category"},[a("nav-bar",{staticClass:"nav-bar"}),a("div",{staticClass:"content"},[a("tab-menu",{attrs:{categories:t.categories},on:{selectItem:t.selectItem}}),a("scroll",{ref:"scroll",staticClass:"tab-content"},[a("div",[a("tab-content",{attrs:{categoriesProduct:t.categoriesProduct}}),a("tab-control",{attrs:{tabtext:["综合","新品","销量"]},on:{tabControlIndex:t.tabClick}}),a("tab-content-detail",{attrs:{categoryDetail:t.showCategoryDetail}})],1)])],1)],1)},r=[],i=(a("a4d3"),a("4de4"),a("4160"),a("e439"),a("dbb4"),a("b64b"),a("159b"),a("ade3"));function c(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function o(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?c(Object(a),!0).forEach((function(e){Object(i["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home-nav"},[n("nav-bar",{staticClass:"nav"},[n("div",{staticClass:"nav-left",attrs:{slot:"nav-left"},on:{click:t.backHome},slot:"nav-left"},[n("img",{attrs:{src:a("dc33")}})]),n("div",{staticClass:"nav-between",attrs:{slot:"nav-between"},slot:"nav-between"},[n("el-input",{attrs:{placeholder:"请输入内容","suffix-icon":"el-icon-search"},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}})],1),n("div",{staticClass:"nav-right",attrs:{slot:"nav-right"},slot:"nav-right"},[n("span",{staticClass:"singin",on:{click:t.singIn}},[t._v(t._s(t.singState))])])])],1)},u=[],l=a("125c"),f={components:{navBar:l["default"]},data:function(){return{input:"",state:"登录"}},methods:{backHome:function(){this.$router.back()},singIn:function(){this.$router.push("/singin")}},computed:{singState:function(){return""==this.$store.state.username?(this.state="登录",this.state):(this.state="退出",this.state)}}},d=f,g=(a("e264"),a("2877")),h=Object(g["a"])(d,s,u,!1,null,null,null),b=h.exports,p=a("ef39"),m=a("96194"),v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("scroll",{attrs:{id:"tab-menu"}},[a("div",{staticClass:"menu-list"},t._l(t.categories,(function(e,n){return a("div",{key:n,staticClass:"menu-list-item",class:{active:n===t.currentIndex},on:{click:function(e){return t.itemClick(n)}}},[t._v(" "+t._s(e.title)+" ")])})),0)])},y=[],_={name:"TabMenu",components:{Scroll:p["a"]},props:{categories:Array},data:function(){return{currentIndex:0}},methods:{itemClick:function(t){this.currentIndex=t,this.$emit("selectItem",t)}}},C=_,w=(a("2234"),Object(g["a"])(C,v,y,!1,null,"0bab5c8a",null)),x=w.exports,k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tab-content"},[t.categoriesProduct?a("grid-view",{attrs:{cols:3,lineSpace:15,"v-margin":20}},t._l(t.categoriesProduct,(function(e,n){return a("div",{key:n,staticClass:"content-item",on:{click:function(a){return t.contentItemClick(e.title)}}},[a("img",{attrs:{src:e.image,alt:""}}),a("div",[t._v(t._s(e.title))])])})),0):t._e()],1)},O=[],D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"gridView",staticClass:"grid-view"},[t._t("default")],2)},j=[],I=(a("99af"),a("a9e3"),{name:"GridView",props:{cols:{type:Number,default:2},hMargin:{type:Number,default:8},vMargin:{type:Number,default:8},itemSpace:{type:Number,default:8},lineSpace:{type:Number,default:8}},mounted:function(){setTimeout(this._autoLayout,20)},updated:function(){this._autoLayout()},methods:{_autoLayout:function(){var t=this.$refs.gridView,e=t.children;t.style.padding="".concat(this.vMargin,"px ").concat(this.hMargin,"px");for(var a=(t.clientWidth-2*this.hMargin-(this.cols-1)*this.itemSpace)/this.cols-5,n=0;n<e.length;n++){var r=e[n];r.style.width=a+"px",(n+1)%this.cols!==0&&(r.style.marginRight=this.itemSpace+"px"),n>=this.cols&&(r.style.marginTop=this.lineSpace+"px")}}}}),E=I,$=(a("f038"),Object(g["a"])(E,D,j,!1,null,"3e36f63f",null)),S=$.exports,T={name:"TabContent",props:{categoriesProduct:{type:Array,default:function(){return[]}}},data:function(){return{}},components:{GridView:S},methods:{contentItemClick:function(t){this.$toast.show(t+"  没有货了T_T")}}},P=T,L=(a("5a32"),Object(g["a"])(P,k,O,!1,null,"0c5888eb",null)),M=L.exports,A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.categoryDetail?a("grid-view",{attrs:{lineSpace:15,"v-margin":20}},t._l(t.categoryDetail,(function(e,n){return a("goods-list-item",{key:n,attrs:{goodsitem:e},nativeOn:{click:function(a){return t.imgClick(e.iid)}}})})),1):t._e()},N=[],V=a("0aa3"),F={name:"TabContentDetail",components:{GridView:S,GoodsListItem:V["a"]},props:{categoryDetail:{type:Array,default:function(){return[]}}},methods:{imgClick:function(t){this.$router.push("/goodsDetails/"+t)}}},G=F,W=Object(g["a"])(G,A,N,!1,null,"ee8b418e",null),z=W.exports,B=a("1bab");function H(){return Object(B["a"])({url:"/category"})}function J(t){return Object(B["a"])({url:"/subcategory",params:{maitKey:t}})}function K(t,e){return Object(B["a"])({url:"/subcategory/detail",params:{miniWallkey:t,type:e}})}var R=1e3,q="pop",Q="new",U="sell",X=a("9977"),Y=a("651f"),Z=(Y["default"],{data:function(){return{currentType:q}},methods:{tabClick:function(t){switch(t){case 0:this.currentType=q;break;case 1:this.currentType=Q;break;case 2:this.currentType=U;break}}}}),tt={name:"Category",data:function(){return{scroll:null,intervalId:null,categories:[],categoriesProduct:[],categoryData:{},currentIndex:-1}},mixins:[Z],mounted:function(){var t=Object(X["a"])(this.$refs.scroll.refresh,1);this.$bus.$on("imgLoadFinish",(function(){t()}))},computed:{showSubcategory:function(){return-1===this.currentIndex?{}:this.categoryData[this.currentIndex].subcategories},showCategoryDetail:function(){return-1===this.currentIndex?[]:this.categoryData[this.currentIndex].categoryDetail[this.currentType]}},created:function(){this._getCategory()},components:{NavBar:b,Scroll:p["a"],TabMenu:x,TabContent:M,TabControl:m["a"],TabContentDetail:z},methods:{_getCategory:function(){var t=this;H().then((function(e){t.categories=e.data.category.list;for(var a=0;a<t.categories.length;a++)t.categoryData[a]={subcategories:{},categoryDetail:{pop:[],new:[],sell:[]}};t._getSubcategory(0)}))},_getSubcategory:function(t){var e=this;this.currentIndex=t;var a=this.categories[t].maitKey;J(a).then((function(a){e.categoriesProduct=a.data.list,e.categoryData[t].subcategories=a.data,e.categoryData=o({},e.categoryData),e._getCategoryDetail(q),e._getCategoryDetail(U),e._getCategoryDetail(Q)}))},_getCategoryDetail:function(t){var e=this,a=this.categories[this.currentIndex].miniWallkey;K(a,t).then((function(a){e.categoryData[e.currentIndex].categoryDetail[t]=a,e.categoryData=o({},e.categoryData)}))},dialog:function(){var t=this;this.intervalId=setInterval((function(){var e=t.msg.substring(0,1),a=t.msg.substring(1);t.msg=a+e}),400)},selectItem:function(t){this._getSubcategory(t)}}},et=tt,at=(a("3aa2"),Object(g["a"])(et,n,r,!1,null,"423a24fd",null));e["default"]=at.exports},cae3:function(t,e,a){},dbb4:function(t,e,a){var n=a("23e7"),r=a("83ab"),i=a("56ef"),c=a("fc6a"),o=a("06cf"),s=a("8418");n({target:"Object",stat:!0,sham:!r},{getOwnPropertyDescriptors:function(t){var e,a,n=c(t),r=o.f,u=i(n),l={},f=0;while(u.length>f)a=r(n,e=u[f++]),void 0!==a&&s(l,e,a);return l}})},dc33:function(t,e,a){t.exports=a.p+"img/backWhite.c6bc7e9f.svg"},e264:function(t,e,a){"use strict";var n=a("66ea"),r=a.n(n);r.a},e439:function(t,e,a){var n=a("23e7"),r=a("d039"),i=a("fc6a"),c=a("06cf").f,o=a("83ab"),s=r((function(){c(1)})),u=!o||s;n({target:"Object",stat:!0,forced:u,sham:!o},{getOwnPropertyDescriptor:function(t,e){return c(i(t),e)}})},f038:function(t,e,a){"use strict";var n=a("aea7"),r=a.n(n);r.a}}]);
//# sourceMappingURL=chunk-7b3933e4.8e1da987.js.map