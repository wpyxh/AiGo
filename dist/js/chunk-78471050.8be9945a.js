(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-78471050"],{"0aa3":function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"goods-item"},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.showImage,expression:"showImage"}],on:{load:t.imgLoadFinish}}),n("div",{staticClass:"goods-info"},[n("p",{staticClass:"title"},[t._v(t._s(t.goodsitem.title))]),n("span",{staticClass:"price"},[t._v(t._s(t.goodsitem.price))]),n("span",{staticClass:"collect"},[t._v(t._s(t.goodsitem.cfav))])])])},i=[],s={props:{goodsitem:{type:Object,default:function(){return{}}}},methods:{imgLoadFinish:function(){this.$bus.$emit("imgLoadFinish")}},computed:{showImage:function(){return this.goodsitem.img||this.goodsitem.image||this.goodsitem.show.img}}},a=s,r=(n("6aef"),n("2877")),c=Object(r["a"])(a,o,i,!1,null,"1f1d3a3f",null);e["a"]=c.exports},"0db9":function(t,e,n){},1020:function(t,e,n){},"1ef1":function(t,e,n){"use strict";var o=n("718c"),i=n.n(o);i.a},"1f38":function(t,e,n){},2029:function(t,e,n){"use strict";var o=n("d5f6"),i=n.n(o);i.a},2909:function(t,e,n){"use strict";function o(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}n("a4d3"),n("e01a"),n("d28b"),n("a630"),n("e260"),n("d3b7"),n("25f0"),n("3ca3"),n("ddb0");function i(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function a(t){return o(t)||i(t)||s()}n.d(e,"a",(function(){return a}))},3751:function(t,e,n){"use strict";var o=n("86b6"),i=n.n(o);i.a},"3ca3":function(t,e,n){"use strict";var o=n("6547").charAt,i=n("69f3"),s=n("7dd0"),a="String Iterator",r=i.set,c=i.getterFor(a);s(String,"String",(function(t){r(this,{type:a,string:String(t),index:0})}),(function(){var t,e=c(this),n=e.string,i=e.index;return i>=n.length?{value:void 0,done:!0}:(t=o(n,i),e.index+=t.length,{value:t,done:!1})}))},"4df4":function(t,e,n){"use strict";var o=n("0366"),i=n("7b0b"),s=n("9bdd"),a=n("e95a"),r=n("50c4"),c=n("8418"),l=n("35a1");t.exports=function(t){var e,n,u,f,d,h,m=i(t),v="function"==typeof this?this:Array,p=arguments.length,b=p>1?arguments[1]:void 0,g=void 0!==b,C=l(m),y=0;if(g&&(b=o(b,p>2?arguments[2]:void 0,2)),void 0==C||v==Array&&a(C))for(e=r(m.length),n=new v(e);e>y;y++)h=g?b(m[y],y):m[y],c(n,y,h);else for(f=C.call(m),d=f.next,n=new v;!(u=d.call(f)).done;y++)h=g?s(f,b,[u.value,y],!0):u.value,c(n,y,h);return n.length=y,n}},5726:function(t,e,n){t.exports=n.p+"img/caidan.d9091a43.svg"},"5cbe":function(t,e,n){t.exports=n.p+"img/recommend_bg.794b6628.jpg"},"6aef":function(t,e,n){"use strict";var o=n("cae3"),i=n.n(o);i.a},"718c":function(t,e,n){},"86b6":function(t,e,n){},"8e08":function(t,e,n){"use strict";var o=n("1020"),i=n.n(o);i.a},96194:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tabcontrol"},t._l(t.tabtext,(function(e,o){return n("div",{staticClass:"tabcontrol-item",class:{active:o===t.clickindex},on:{click:function(e){return t.click(o)}}},[n("span",[t._v(t._s(t.tabtext[o]))])])})),0)},i=[],s={data:function(){return{clickindex:0}},methods:{click:function(t){this.clickindex=t,this.$emit("tabControlIndex",t)}},props:{tabtext:{type:Array,default:function(){return[]}}}},a=s,r=(n("3751"),n("2877")),c=Object(r["a"])(a,o,i,!1,null,"d6f40f02",null);e["a"]=c.exports},"99bb":function(t,e,n){"use strict";var o=n("e6f8"),i=n.n(o);i.a},a630:function(t,e,n){var o=n("23e7"),i=n("4df4"),s=n("1c7e"),a=!s((function(t){Array.from(t)}));o({target:"Array",stat:!0,forced:a},{from:i})},ab2a:function(t,e,n){"use strict";var o=n("0db9"),i=n.n(o);i.a},b3d7:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("nav-bar"),n("tab-control",{directives:[{name:"show",rawName:"v-show",value:t.isTabControlShow,expression:"isTabControlShow"}],ref:"tabControl1",attrs:{tabtext:["流行","新款","精选"]},on:{tabControlIndex:t.ControlIndex}}),n("scroll",{ref:"scroll",staticClass:"content1",attrs:{"probe-type":3,"pull-up-load":!0},on:{scroll:t.backScroll,pullingUp:t.loadMore}},[n("banner",{attrs:{banners:t.banners},on:{finishLoad:t.tabFinishLoad}}),n("recommends",{attrs:{recommends:t.recommends}}),n("feature"),n("tab-control",{ref:"tabControl2",attrs:{tabtext:["流行","新款","精选"]},on:{tabControlIndex:t.ControlIndex}}),n("home-goods",{attrs:{goods:t.goods[t.goods1[t.tabControlIndex]].list}})],1),n("back-top",{directives:[{name:"show",rawName:"v-show",value:t.isBackTopShow,expression:"isBackTopShow"}],staticClass:"backtop",nativeOn:{click:function(e){return t.backTopClick(e)}}})],1)},i=[],s=n("2909"),a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"home-nav"},[o("nav-bar",{staticClass:"nav"},[o("div",{staticClass:"nav-left",attrs:{slot:"nav-left"},on:{click:t.toCategory},slot:"nav-left"},[o("img",{attrs:{src:n("5726")}})]),o("div",{staticClass:"nav-between",attrs:{slot:"nav-between"},slot:"nav-between"},[o("el-input",{attrs:{placeholder:"请输入内容","suffix-icon":"el-icon-search"},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}})],1),o("div",{staticClass:"nav-right",attrs:{slot:"nav-right"},on:{click:t.singin},slot:"nav-right"},[o("span",{staticClass:"singin"},[t._v(t._s(t.singState))])])])],1)},r=[],c=n("125c"),l={components:{navBar:c["default"]},data:function(){return{input:"",state:"登录"}},methods:{toCategory:function(){this.$router.push("/category")},singin:function(){""==this.$store.state.username?this.$router.push("/singin"):(this.$store.commit("changeSing"),this.$toast.show("退出成功"))}},computed:{singState:function(){return""==this.$store.state.username?(this.state="登录",this.state):(this.state="退出",this.state)}}},u=l,f=(n("c615"),n("2877")),d=Object(f["a"])(u,a,r,!1,null,null,null),h=d.exports,m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"block"},[n("el-carousel",{attrs:{trigger:"click",height:"160px"}},t._l(t.banners.length,(function(e){return n("el-carousel-item",{key:e},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.banners[e-1].image,expression:"banners[item-1].image"}],on:{load:t.finishLoad}})])})),1)],1)},v=[],p={props:{banners:{type:Array,default:function(){return[]}}},data:function(){return{isFinish:!1}},methods:{finishLoad:function(){this.isFinish||this.$emit("finishLoad"),this.isFinish=!0}}},b=p,g=(n("ab2a"),Object(f["a"])(b,m,v,!1,null,null,null)),C=g.exports,y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"recommend"},t._l(t.recommends.length,(function(e){return n("div",{key:e,staticClass:"recommend-item",on:{click:function(n){return t.recomClick(t.recommends[e-1].title)}}},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.recommends[e-1].image,expression:"recommends[item-1].image"}]}),n("div",[t._v(t._s(t.recommends[e-1].title))])])})),0)},x=[],w={props:{recommends:{type:Array,default:function(){return[]}}},methods:{recomClick:function(t){this.$toast.show(t+"  暂未开通")}}},k=w,$=(n("1ef1"),Object(f["a"])(k,y,x,!1,null,"240b2272",null)),_=$.exports,S=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"feature",on:{click:t.fetureClick}},[o("img",{attrs:{src:n("5cbe"),alt:""}})])},O=[],T={methods:{fetureClick:function(){this.$toast.show("该功能尚未开通 ^_^")}}},j=T,I=(n("99bb"),Object(f["a"])(j,S,O,!1,null,"2782b1dc",null)),A=I.exports,F=n("96194"),L=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"homegoods"},t._l(t.goods,(function(e){return n("home-goods-item",{staticClass:"home-goods-item",attrs:{goodsitem:e},nativeOn:{click:function(n){return t.imgClick(e.iid)}}})})),1)},E=[],G=n("0aa3"),H={components:{homeGoodsItem:G["a"]},props:{goods:{type:Array,default:function(){return[]}}},methods:{imgClick:function(t){this.$router.push("/goodsDetails/"+t)}}},z=H,B=(n("2029"),Object(f["a"])(z,L,E,!1,null,"0967abd5",null)),N=B.exports,M=n("651f"),Y=n("ef39"),J=n("1bab");function U(){return Object(J["a"])({url:"/home/multidata"})}function D(t,e){return Object(J["a"])({url:"/home/data",params:{type:t,page:e}})}var P=n("9977"),q={components:{navBar:h,banner:C,recommends:_,feature:A,tabControl:F["a"],homeGoods:N,scroll:Y["a"],backTop:M["default"]},data:function(){return{banners:[],recommends:[],goods:{pop:{page:0,list:[]},new:{page:0,list:[]},sell:{page:0,list:[]}},goods1:["pop","new","sell"],tabControlIndex:0,isBackTopShow:!1,tabOffsetTop:0,isTabControlShow:!1,saveY:0}},activated:function(){this.$refs.scroll.refresh(),this.$refs.scroll.scroll.scrollTo(0,this.saveY,0)},deactivated:function(){this.saveY=this.$refs.scroll.scroll.y},created:function(){this.getHomeMultidata(),this.getHomeGoods("pop"),this.getHomeGoods("new"),this.getHomeGoods("sell")},mounted:function(){var t=Object(P["a"])(this.$refs.scroll.refresh,1);this.$bus.$on("imgLoadFinish",(function(){t()}))},methods:{getHomeMultidata:function(){var t=this;U().then((function(e){t.banners=e.data.banner.list,t.recommends=e.data.recommend.list}))},getHomeGoods:function(t){var e=this,n=this.goods[t].page+1;D(t,n).then((function(n){var o;(o=e.goods[t].list).push.apply(o,Object(s["a"])(n.data.list)),e.goods[t].page++,e.$refs.scroll.scroll.finishPullUp()}))},ControlIndex:function(t){this.tabControlIndex=t,this.$refs.tabControl1.clickindex=t,this.$refs.tabControl2.clickindex=t},backTopClick:function(){this.$refs.scroll.scroll.scrollTo(0,0,1e3)},backScroll:function(t){this.isBackTopShow=-t.y>1e3,this.isTabControlShow=-t.y>this.tabOffsetTop},loadMore:function(){this.getHomeGoods(this.goods1[this.tabControlIndex])},tabFinishLoad:function(){this.tabOffsetTop=this.$refs.tabControl2.$el.offsetTop}}},K=q,Q=(n("8e08"),Object(f["a"])(K,o,i,!1,null,"7136fe3e",null));e["default"]=Q.exports},c615:function(t,e,n){"use strict";var o=n("1f38"),i=n.n(o);i.a},cae3:function(t,e,n){},d28b:function(t,e,n){var o=n("746f");o("iterator")},d5f6:function(t,e,n){},ddb0:function(t,e,n){var o=n("da84"),i=n("fdbc"),s=n("e260"),a=n("9112"),r=n("b622"),c=r("iterator"),l=r("toStringTag"),u=s.values;for(var f in i){var d=o[f],h=d&&d.prototype;if(h){if(h[c]!==u)try{a(h,c,u)}catch(v){h[c]=u}if(h[l]||a(h,l,f),i[f])for(var m in s)if(h[m]!==s[m])try{a(h,m,s[m])}catch(v){h[m]=s[m]}}}},e01a:function(t,e,n){"use strict";var o=n("23e7"),i=n("83ab"),s=n("da84"),a=n("5135"),r=n("861d"),c=n("9bf2").f,l=n("e893"),u=s.Symbol;if(i&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var f={},d=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof d?new u(t):void 0===t?u():u(t);return""===t&&(f[e]=!0),e};l(d,u);var h=d.prototype=u.prototype;h.constructor=d;var m=h.toString,v="Symbol(test)"==String(u("test")),p=/^Symbol\((.*)\)[^)]+$/;c(h,"description",{configurable:!0,get:function(){var t=r(this)?this.valueOf():this,e=m.call(t);if(a(f,t))return"";var n=v?e.slice(7,-1):e.replace(p,"$1");return""===n?void 0:n}}),o({global:!0,forced:!0},{Symbol:d})}},e6f8:function(t,e,n){}}]);
//# sourceMappingURL=chunk-78471050.8be9945a.js.map